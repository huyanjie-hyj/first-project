# 关于js单线程的理解

1. 首先明确js是单线程的，那么什么是单线程？

   单线程是指在运行的时候只有上一个正在运行的程序结束才能进行下一个，这在js中是必须的。
   
   js大多负责浏览器和用户的交互，如果用户在A模块中新增了部分内容的同时删除了A模块，在单线程模式下根据用户操作的时间返回一个确定的数据，但是如果是多线程，返回的数据就不是很确定了。

2. 既然js是单线程的那么为什么还有 `异步请求` 这些东西

   从用户体验上来讲，如果我访问一个接口需要花费30s的时间，没有异步请求的情况下程序在等待接口返回的这段时间里面不能进行其他事件的操作干等30s，这是不能接受的。所以js的开发者开发出了异步请求这些东西。

   同步请求都运行在js的 `主线程` 中，但是异步请求的任务不会，它是进入浏览器提供的线程当中，每个异步请求必须有一个回调函数（callback），当异步请求结束的时候通知主线程本次请求已经完成并将该请求的回调函数放入 `任务队列` 当中，如果主进程运行完毕就去任务队列当中的函数。

   任务队列奉行的是先进先出的原则，先进入的回调函数会被主线程优先调用